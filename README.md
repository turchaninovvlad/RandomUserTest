markdown
# Random User Manager

Веб-приложение для работы с пользовательскими данными из RandomUser API. Позволяет загружать, хранить и просматривать информацию о пользователях с возможностью пагинации и детализации.

## Основные возможности

- Загрузка пользователей из RandomUser API (1-5000 за раз)
- Автоматическая инициализация БД при старте приложения
- Просмотр пользователей с пагинацией
- Детальная страница пользователя
- Генерация случайного пользователя
- Валидация и дедупликация по email
- Асинхронные запросы к API и БД
- Полноценное тестовое покрытие

## Технологии

- Python 3.12+
- FastAPI (веб-фреймворк)
- SQLModel/SQLAlchemy (работа с БД)
- SQLite (база данных)
- Jinja2 (шаблонизация)
- Pytest (тестирование)
- HTMX (динамическое обновление контента)
- Bootstrap (стилизация)

## Структура проекта
project
├── src/
│ ├── config/ # Конфигурация приложения
│ │ └── database/ # Настройки БД
│ ├── models/ # Модели данных
│ ├── routes/ # Маршруты приложения
│ ├── services/ # Бизнес-логика
│ ├── static/ # Статические файлы
│ └── templates/ # HTML шаблоны
├── tests/ # Тесты
│ ├── services/ # Тесты сервисов
│ └── test_routes.py # Тесты маршрутов
├── main.py # Точка входа
├── requirements.txt # Зависимости
└── pytest.ini # Конфигурация тестов


## Установка и запуск (Windows)

1. Клонировать репозиторий
2. Создать виртуальное окружение:
   ```powershell
   python -m venv .venv
Активировать окружение:

powershell
.\.venv\Scripts\Activate.ps1
Установить зависимости:

powershell
pip install -r requirements.txt
Запустить приложение:

powershell
python main.py
Открыть в браузере: http://localhost:8000

Использование API
Основные эндпоинты:

Метод	Путь	Описание
GET	/	Главная страница с пользователями
POST	/load-users	Загрузка новых пользователей
GET	/user/{id}	Детальная информация о пользователе
GET	/random	Случайный пользователь
Тестирование
Запуск всех тестов:

powershell
pytest tests/ -v
Тесты покрывают:

Работу с API RandomUser

Взаимодействие с базой данных

Валидацию входных параметров

Краевые случаи пагинации

Обработку ошибок

Безопасность
Реализованные меры защиты:

Валидация количества загружаемых пользователей (1-5000)

Проверка уникальности email перед сохранением

Обработка ошибок подключения к API

SQL-инъекции предотвращаются через ORM

Логирование критических операций

Автоматический откат транзакций при ошибках
